/* 导入苹果风格样式系统 */
@import './apple-style.css';

/* 覆盖Element Plus默认样式，使用Apple设计系统 */
.el-button {
    /* 使用Apple按钮样式 */
    background-color: var(--apple-bg-primary) !important;
    color: var(--apple-text-primary) !important;
    border: 1px solid var(--apple-border-primary) !important;
    border-radius: var(--apple-radius-medium) !important;
    font-family: inherit !important;
    font-size: var(--apple-font-md) !important;
    font-weight: 500 !important;
    transition: all 0.2s ease !important;
    box-shadow: none !important;
}

.el-button--primary {
    background-color: var(--apple-blue) !important;
    border-color: var(--apple-blue) !important;
    color: white !important;
}

.el-button--primary:hover {
    background-color: var(--apple-blue-dark) !important;
    border-color: var(--apple-blue-dark) !important;
}

.el-button:hover {
    background-color: var(--apple-bg-secondary) !important;
    transform: translateY(-1px) !important;
    box-shadow: var(--apple-shadow-light) !important;
}

.el-input__wrapper {
    background-color: var(--apple-bg-primary) !important;
    border: 1px solid var(--apple-border-primary) !important;
    border-radius: var(--apple-radius-medium) !important;
    box-shadow: none !important;
    transition: all 0.2s ease !important;
}

.el-input__wrapper:hover {
    border-color: var(--apple-text-tertiary) !important;
}

.el-input__wrapper.is-focus {
    border-color: var(--apple-blue) !important;
    box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1) !important;
}

.el-card {
    background-color: var(--apple-bg-primary) !important;
    border: 1px solid var(--apple-border-secondary) !important;
    border-radius: var(--apple-radius-large) !important;
    box-shadow: var(--apple-shadow-light) !important;
}

.el-card:hover {
    box-shadow: var(--apple-shadow-medium) !important;
    transform: translateY(-2px) !important;
    transition: all 0.2s ease !important;
}

.el-dialog {
    border-radius: var(--apple-radius-large) !important;
    box-shadow: var(--apple-shadow-heavy) !important;
}

.el-dialog__header {
    background-color: var(--apple-bg-secondary) !important;
    border-bottom: 1px solid var(--apple-border-secondary) !important;
    border-radius: var(--apple-radius-large) var(--apple-radius-large) 0 0 !important;
}

.el-dialog__title {
    color: var(--apple-text-primary) !important;
    font-weight: 600 !important;
}

.el-message {
    border-radius: var(--apple-radius-medium) !important;
    box-shadow: var(--apple-shadow-medium) !important;
}

.el-message-box {
    border-radius: var(--apple-radius-large) !important;
    box-shadow: var(--apple-shadow-heavy) !important;
}

/* 表格样式 */
.el-table {
    background-color: var(--apple-bg-primary) !important;
}

.el-table th {
    background-color: var(--apple-bg-secondary) !important;
    color: var(--apple-text-secondary) !important;
    font-weight: 600 !important;
}

.el-table tr {
    background-color: var(--apple-bg-primary) !important;
}

.el-table tr:hover {
    background-color: var(--apple-bg-secondary) !important;
}

/* 下拉菜单 */
.el-dropdown-menu {
    background-color: var(--apple-bg-primary) !important;
    border: 1px solid var(--apple-border-primary) !important;
    border-radius: var(--apple-radius-medium) !important;
    box-shadow: var(--apple-shadow-medium) !important;
}

.el-dropdown-menu__item {
    color: var(--apple-text-primary) !important;
}

.el-dropdown-menu__item:hover {
    background-color: var(--apple-bg-secondary) !important;
    color: var(--apple-text-primary) !important;
}

/* 标签页 */
.el-tabs__header {
    margin: 0 0 var(--apple-spacing-md) 0 !important;
}

.el-tabs__nav {
    border-bottom: 1px solid var(--apple-border-secondary) !important;
}

.el-tabs__item {
    color: var(--apple-text-tertiary) !important;
    font-weight: 500 !important;
}

.el-tabs__item.is-active {
    color: var(--apple-blue) !important;
}

.el-tabs__item:hover {
    color: var(--apple-text-secondary) !important;
}

/* 分页 */
.el-pagination {
    color: var(--apple-text-secondary) !important;
}

.el-pager li {
    background-color: var(--apple-bg-primary) !important;
    color: var(--apple-text-secondary) !important;
    border: 1px solid var(--apple-border-primary) !important;
    border-radius: var(--apple-radius-small) !important;
}

.el-pager li.is-active {
    background-color: var(--apple-blue) !important;
    color: white !important;
}

/* 加载器 */
.el-loading-spinner .circular {
    stroke: var(--apple-blue) !important;
}

/* 通知 */
.el-notification {
    border-radius: var(--apple-radius-large) !important;
    box-shadow: var(--apple-shadow-heavy) !important;
}

/* 选择器 */
.el-select-dropdown {
    background-color: var(--apple-bg-primary) !important;
    border: 1px solid var(--apple-border-primary) !important;
    border-radius: var(--apple-radius-medium) !important;
    box-shadow: var(--apple-shadow-medium) !important;
}

.el-select-dropdown__item {
    color: var(--apple-text-primary) !important;
}

.el-select-dropdown__item:hover {
    background-color: var(--apple-bg-secondary) !important;
}

/* 开关 */
.el-switch.is-checked .el-switch__core {
    background-color: var(--apple-blue) !important;
}

/* 复选框 */
.el-checkbox__input.is-checked .el-checkbox__inner {
    background-color: var(--apple-blue) !important;
    border-color: var(--apple-blue) !important;
}

/* 单选框 */
.el-radio__input.is-checked .el-radio__inner {
    background-color: var(--apple-blue) !important;
    border-color: var(--apple-blue) !important;
}

/* 菜单 */
.el-menu {
    background-color: var(--apple-bg-primary) !important;
    border-right: 1px solid var(--apple-border-secondary) !important;
}

.el-menu-item {
    color: var(--apple-text-secondary) !important;
}

.el-menu-item:hover {
    background-color: var(--apple-bg-secondary) !important;
    color: var(--apple-text-primary) !important;
}

.el-menu-item.is-active {
    background-color: var(--apple-bg-secondary) !important;
    color: var(--apple-blue) !important;
}

/* 暗色主题额外样式 */
.el-dropdown-menu__item.is-disabled {
    color: var(--apple-text-tertiary) !important;
}

/* 暗色主题文字颜色强制保护 - 禁止黑底黑字 */
[data-theme="dark"] * {
    /* 确保所有文字在暗色背景上可见 */
    color: inherit;
}

[data-theme="dark"] body,
[data-theme="dark"] .el-text,
[data-theme="dark"] p,
[data-theme="dark"] span,
[data-theme="dark"] div,
[data-theme="dark"] label,
[data-theme="dark"] h1,
[data-theme="dark"] h2,
[data-theme="dark"] h3,
[data-theme="dark"] h4,
[data-theme="dark"] h5,
[data-theme="dark"] h6 {
    color: var(--apple-text-primary) !important;
}

/* 次要文字颜色 */
[data-theme="dark"] .text-secondary,
[data-theme="dark"] .el-text--secondary {
    color: var(--apple-text-secondary) !important;
}

/* 三级文字颜色 */
[data-theme="dark"] .text-tertiary,
[data-theme="dark"] .el-text--tertiary {
    color: var(--apple-text-tertiary) !important;
}

/* 输入框文字 */
[data-theme="dark"] input,
[data-theme="dark"] textarea,
[data-theme="dark"] .el-input__inner {
    color: var(--apple-text-primary) !important;
}

/* 占位符文字 */
[data-theme="dark"] input::placeholder,
[data-theme="dark"] textarea::placeholder,
[data-theme="dark"] .el-input__inner::placeholder {
    color: var(--apple-text-tertiary) !important;
}

/* 链接颜色 */
[data-theme="dark"] a {
    color: var(--apple-blue) !important;
}

/* 禁用状态文字 */
[data-theme="dark"] .is-disabled,
[data-theme="dark"] [disabled] {
    color: var(--apple-text-quaternary) !important;
}

/* 表格文字 */
[data-theme="dark"] .el-table {
    color: var(--apple-text-primary) !important;
}

[data-theme="dark"] .el-table td,
[data-theme="dark"] .el-table th {
    color: var(--apple-text-primary) !important;
}

/* 下拉菜单文字 */
[data-theme="dark"] .el-dropdown-menu__item {
    color: var(--apple-text-primary) !important;
}

/* 选择器选项文字 */
[data-theme="dark"] .el-select-dropdown__item {
    color: var(--apple-text-primary) !important;
}

/* 对话框文字 */
[data-theme="dark"] .el-dialog__body {
    color: var(--apple-text-primary) !important;
}

/* 消息提示文字 */
[data-theme="dark"] .el-message {
    color: var(--apple-text-primary) !important;
}

/* 通知文字 */
[data-theme="dark"] .el-notification {
    color: var(--apple-text-primary) !important;
}

/* 按钮组 */
.el-button-group .el-button {
    border-color: var(--apple-border-primary) !important;
    background-color: var(--apple-bg-primary) !important;
    color: var(--apple-text-primary) !important;
}

.el-button-group .el-button:not(.is-disabled):hover {
    background-color: var(--apple-bg-tertiary) !important;
}

.el-button-group .el-button--primary {
    background-color: var(--apple-blue) !important;
    border-color: var(--apple-blue) !important;
    color: white !important;
}

/* 头像 */
.el-avatar {
    background-color: var(--apple-bg-secondary) !important;
    color: var(--apple-text-primary) !important;
}

/* 图标 */
.el-icon {
    color: var(--apple-text-primary) !important;
}

/* 主题切换动画 */
* {
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease !important;
}

/* ========================================
   Z-Index 层级管理 - 确保UI组件正确分层
   ======================================== */

/* Element Plus 组件层级 */
.el-dropdown-menu {
    z-index: var(--z-dropdown) !important;
}

.el-select-dropdown {
    z-index: var(--z-dropdown) !important;
}

.el-picker-panel {
    z-index: var(--z-dropdown) !important;
}

.el-popper {
    z-index: var(--z-popover) !important;
}

.el-dialog__wrapper {
    z-index: var(--z-modal) !important;
}

.el-message-box__wrapper {
    z-index: var(--z-modal) !important;
}

.el-message {
    z-index: var(--z-notification) !important;
}

.el-notification {
    z-index: var(--z-notification) !important;
}

.el-loading-mask {
    z-index: var(--z-modal-backdrop) !important;
}

.el-drawer__wrapper {
    z-index: var(--z-modal) !important;
}

.el-tooltip__popper {
    z-index: var(--z-tooltip) !important;
}

.el-popover {
    z-index: var(--z-popover) !important;
}

.el-popconfirm {
    z-index: var(--z-popover) !important;
}

/* 自定义组件层级 */
.notification-popover {
    z-index: var(--z-popover) !important;
}

.notification-popover.apple-card {
    z-index: var(--z-popover) !important;
}

.popover-overlay {
    z-index: calc(var(--z-popover) - 1) !important;
}

/* 确保下拉菜单在卡片之上 */
.el-dropdown-menu,
.el-select-dropdown,
.el-picker-panel {
    z-index: var(--z-dropdown) !important;
}

/* 模态框背景遮罩 */
.el-overlay {
    z-index: var(--z-modal-backdrop) !important;
}

/* 固定定位的导航栏 */
.layout-header {
    z-index: var(--z-sticky) !important;
}

.layout-sidebar {
    z-index: var(--z-sticky) !important;
}

/* 确保通知铃铛的弹出层在最上面 */
.notification-bell .notification-popover {
    z-index: var(--z-popover) !important;
}

/* 搜索建议下拉框 */
.search-suggestions {
    z-index: var(--z-dropdown) !important;
}

/* 用户菜单下拉框 */
.user-menu-dropdown {
    z-index: var(--z-dropdown) !important;
}

/* 右键菜单 */
.context-menu {
    z-index: var(--z-popover) !important;
}

/* 图片预览 */
.image-viewer {
    z-index: var(--z-modal) !important;
}

/* 视频播放器全屏控制 */
.video-player-fullscreen {
    z-index: var(--z-top) !important;
}

/* 暗色主题下的特殊处理 */
[data-theme="dark"] .el-popper {
    background-color: var(--apple-bg-secondary) !important;
    border-color: var(--apple-border-primary) !important;
}

[data-theme="dark"] .el-popper .el-popper__arrow::before {
    background-color: var(--apple-bg-secondary) !important;
    border-color: var(--apple-border-primary) !important;
}

/* 滚动条暗色主题 */
[data-theme="dark"] ::-webkit-scrollbar-track {
    background: var(--apple-bg-tertiary) !important;
}

[data-theme="dark"] ::-webkit-scrollbar-thumb {
    background: var(--apple-border-primary) !important;
}

[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
    background: var(--apple-text-tertiary) !important;
}