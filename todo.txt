# TODO List - è”ç³»äººå’Œç¾¤ç»„åŠŸèƒ½å®Œå–„

## é¡¹ç›®æ¦‚è§ˆ
**æœ€åæ›´æ–°**: 2024-01-29
**å½“å‰ç‰ˆæœ¬**: v0.2.0
**ä¸»è¦ç›®æ ‡**: ä¿®å¤å‰åç«¯æ•°æ®ä¼ è¾“é—®é¢˜ï¼Œå®Œå–„è”ç³»äººå’Œç¾¤ç»„åŠŸèƒ½

## å·²å®Œæˆ
1. âœ… å¥½å‹ç”³è¯·åŠŸèƒ½ - æ·»åŠ é€šçŸ¥å‘é€
2. âœ… å¥½å‹ç”³è¯·DTO - åˆ›å»ºContactRequestDtoåŒ…å«å‰ç«¯éœ€è¦çš„å­—æ®µ
3. âœ… è”ç³»äººåˆ†ç»„API - åœ¨ContactControllerä¸­æ·»åŠ å®Œæ•´çš„åˆ†ç»„ç®¡ç†æ¥å£
4. âœ… å¥½å‹ç”³è¯·åˆ—è¡¨API - /api/contacts/requestsè¿”å›ContactRequestDto

## è¿›è¡Œä¸­
### ç¾¤ç»„åŠŸèƒ½DTOé‡æ„
**æ–‡ä»¶**: src/main/java/com/web/dto/GroupDto.java
**çŠ¶æ€**: å·²åˆ›å»ºåŸºç¡€ç»“æ„
**éœ€è¦å®Œæˆ**:
1. åœ¨GroupServiceæ¥å£ä¸­æ·»åŠ è¿”å›GroupDtoçš„æ–¹æ³•
2. åœ¨GroupServiceImplä¸­å®ç°DTOè½¬æ¢é€»è¾‘
3. æ›´æ–°StandardGroupControllerä½¿ç”¨GroupDto
4. åˆ›å»ºGroupMapper.xmlæŸ¥è¯¢è¯­å¥ï¼ŒJOIN userè¡¨è·å–ownerUsername
5. åˆ›å»ºGroupMapper.xmlæŸ¥è¯¢è¯­å¥ï¼ŒJOIN group_memberè¡¨è·å–ç”¨æˆ·è§’è‰²

### å…·ä½“å®ç°æ­¥éª¤

#### 1. GroupServiceæ¥å£æ›´æ–°
**æ–‡ä»¶**: src/main/java/com/web/service/GroupService.java
**éœ€è¦æ·»åŠ çš„æ–¹æ³•**:
```java
List<GroupDto> getUserGroupsWithDetails(Long userId);
List<GroupDto> getUserCreatedGroupsWithDetails(Long userId);
GroupDto getGroupWithDetails(Long groupId, Long userId);
```

#### 2. GroupMapperæ¥å£å’ŒXML
**æ–‡ä»¶**: src/main/java/com/web/mapper/GroupMapper.java
**éœ€è¦æ·»åŠ çš„æ–¹æ³•**:
```java
List<GroupDto> selectUserGroupsWithDetails(@Param("userId") Long userId);
List<GroupDto> selectUserCreatedGroupsWithDetails(@Param("userId") Long userId);
GroupDto selectGroupWithDetails(@Param("groupId") Long groupId, @Param("userId") Long userId);
```

**æ–‡ä»¶**: src/main/resources/mapper/GroupMapper.xml
**éœ€è¦æ·»åŠ çš„æŸ¥è¯¢**:
- selectUserGroupsWithDetails: JOIN group, group_member, userè¡¨
- selectUserCreatedGroupsWithDetails: JOIN group, userè¡¨
- selectGroupWithDetails: JOIN group, userè¡¨ï¼Œå¯é€‰JOIN group_member

#### 3. GroupServiceImplå®ç°
**æ–‡ä»¶**: src/main/java/com/web/service/Impl/GroupServiceImpl.java
**éœ€è¦å®ç°**:
- getUserGroupsWithDetails(): è°ƒç”¨mapperè·å–ç”¨æˆ·åŠ å…¥çš„ç¾¤ç»„ï¼ˆåŒ…å«è§’è‰²ï¼‰
- getUserCreatedGroupsWithDetails(): è°ƒç”¨mapperè·å–ç”¨æˆ·åˆ›å»ºçš„ç¾¤ç»„
- getGroupWithDetails(): è·å–ç¾¤ç»„è¯¦æƒ…ï¼ˆåŒ…å«ç¾¤ä¸»ä¿¡æ¯å’Œç”¨æˆ·è§’è‰²ï¼‰

#### 4. StandardGroupControlleræ›´æ–°
**æ–‡ä»¶**: src/main/java/com/web/Controller/StandardGroupController.java
**éœ€è¦ä¿®æ”¹çš„æ–¹æ³•**:
- getMyGroups(): è¿”å›List<GroupDto>
- getMyCreatedGroups(): è¿”å›List<GroupDto>
- getGroup(): è¿”å›GroupDto

#### 5. å‰ç«¯é€‚é…ï¼ˆå¯é€‰ï¼‰
**æ–‡ä»¶**: Vue/src/group/GroupPage.vue
**è¯´æ˜**: å¦‚æœåç«¯å­—æ®µåä¸å‰ç«¯ä¸åŒ¹é…ï¼Œéœ€è¦åœ¨å‰ç«¯åšæ˜ å°„
- createTime â†’ createdAt

## å¾…å®ŒæˆåŠŸèƒ½

### æ•°æ®åº“åˆå§‹åŒ–
**æ–‡ä»¶**: src/main/java/com/web/Config/DatabaseInitializer.java
**åŠŸèƒ½**: åˆå§‹åŒ–æµ‹è¯•å¥½å‹å…³ç³»å’Œç¾¤ç»„æ•°æ®
**çŠ¶æ€**: ä»£ç å·²æ·»åŠ ä½†å¯èƒ½æœªç”Ÿæ•ˆ
**éœ€è¦éªŒè¯**: 
- initializeTestContacts()æ–¹æ³•æ˜¯å¦è¢«è°ƒç”¨
- initializeTestGroups()æ–¹æ³•æ˜¯å¦è¢«è°ƒç”¨
- æµ‹è¯•æ•°æ®æ˜¯å¦æ­£ç¡®åˆ›å»º

### ç¾¤ç»„ç”³è¯·é€šçŸ¥
**æ–‡ä»¶**: src/main/java/com/web/service/Impl/GroupServiceImpl.java
**åŠŸèƒ½**: ç”¨æˆ·ç”³è¯·åŠ å…¥ç¾¤ç»„æ—¶å‘é€é€šçŸ¥ç»™ç¾¤ä¸»
**éœ€è¦å®ç°**:
```java
// åœ¨applyToJoinGroupæ–¹æ³•ä¸­æ·»åŠ 
notificationService.createAndPublishNotification(
    group.getOwnerId(),  // æ¥æ”¶è€…ï¼šç¾¤ä¸»
    userId,              // æ“ä½œè€…ï¼šç”³è¯·äºº
    "GROUP_APPLICATION", // é€šçŸ¥ç±»å‹
    "GROUP",             // å®ä½“ç±»å‹
    groupId              // å®ä½“ID
);
```

### ç¾¤ç»„ç”³è¯·å¤„ç†é€šçŸ¥
**æ–‡ä»¶**: src/main/java/com/web/service/Impl/GroupServiceImpl.java
**åŠŸèƒ½**: ç¾¤ä¸»å¤„ç†ç”³è¯·åé€šçŸ¥ç”³è¯·äºº
**éœ€è¦å®ç°**:
```java
// åœ¨approveApplicationæ–¹æ³•ä¸­æ·»åŠ 
notificationService.createAndPublishNotification(
    applicantId,              // æ¥æ”¶è€…ï¼šç”³è¯·äºº
    userId,                   // æ“ä½œè€…ï¼šç¾¤ä¸»
    "GROUP_APPLICATION_APPROVED", // é€šçŸ¥ç±»å‹
    "GROUP",                  // å®ä½“ç±»å‹
    groupId                   // å®ä½“ID
);
```

### ç¾¤ç»„æˆå‘˜å˜æ›´é€šçŸ¥
**åŠŸèƒ½**: æˆå‘˜åŠ å…¥/é€€å‡ºç¾¤ç»„æ—¶é€šçŸ¥æ‰€æœ‰æˆå‘˜
**éœ€è¦å®ç°**: ç¾¤ç»„æ¶ˆæ¯å¹¿æ’­æœºåˆ¶

## ä»£ç è´¨é‡é—®é¢˜

### éœ€è¦æ¸…ç†çš„è­¦å‘Š
1. æ£€æŸ¥æ‰€æœ‰Serviceæ¥å£ä¸å®ç°çš„æ–¹æ³•ç­¾åæ˜¯å¦ä¸€è‡´
2. æ¸…ç†æœªä½¿ç”¨çš„importè¯­å¥
3. ç¡®ä¿æ‰€æœ‰@Transactionalæ³¨è§£æ­£ç¡®ä½¿ç”¨

### éœ€è¦é‡æ„çš„ä»£ç 
1. ContactServiceImplä¸­çš„getContactsæ–¹æ³•è¿”å›ç±»å‹ä¸ä¸€è‡´ï¼ˆPENDINGæ—¶åº”è¿”å›ContactRequestDtoï¼‰
2. ç¾¤ç»„ç›¸å…³çš„VOç±»éœ€è¦éªŒè¯æ˜¯å¦ç¬¦åˆè§„èŒƒ

## ç»¼åˆæµ‹è¯•è®¡åˆ’

### å¥½å‹åŠŸèƒ½æµ‹è¯•ç”¨ä¾‹
**æµ‹è¯•ç¯å¢ƒ**: å¼€å‘ç¯å¢ƒ + æµ‹è¯•æ•°æ®åº“
**æµ‹è¯•æ•°æ®**: é¢„ç½®3ä¸ªæµ‹è¯•ç”¨æˆ·è´¦æˆ·

1. **å¥½å‹ç”³è¯·æµç¨‹æµ‹è¯•**
   - [ ] ç”¨æˆ·Aæœç´¢ç”¨æˆ·Bå¹¶å‘é€å¥½å‹ç”³è¯·
   - [ ] éªŒè¯ç”¨æˆ·Bæ”¶åˆ°å¥½å‹ç”³è¯·é€šçŸ¥
   - [ ] ç”¨æˆ·Bæ¥å—å¥½å‹ç”³è¯·
   - [ ] éªŒè¯åŒæ–¹å¥½å‹åˆ—è¡¨æ›´æ–°
   - [ ] æµ‹è¯•æ‹’ç»å¥½å‹ç”³è¯·åœºæ™¯
   - [ ] éªŒè¯è¢«æ‹’ç»åæ— æ³•é‡å¤å‘é€ï¼ˆ24å°æ—¶å†…ï¼‰

2. **å¥½å‹åˆ—è¡¨åŠŸèƒ½æµ‹è¯•**
   - [ ] ç™»å½•ç”¨æˆ·æŸ¥çœ‹å¥½å‹åˆ—è¡¨
   - [ ] éªŒè¯å¥½å‹ä¿¡æ¯å®Œæ•´æ€§ï¼ˆusername, nickname, avatarï¼‰
   - [ ] æµ‹è¯•å¥½å‹æœç´¢åŠŸèƒ½
   - [ ] æµ‹è¯•å¥½å‹åˆ†ç»„åŠŸèƒ½
   - [ ] æµ‹è¯•åˆ é™¤å¥½å‹åŠŸèƒ½

3. **è¾¹ç•Œæƒ…å†µæµ‹è¯•**
   - [ ] ç”³è¯·ä¸å­˜åœ¨çš„ç”¨æˆ·
   - [ ] ç”³è¯·è‡ªå·±ä¸ºå¥½å‹
   - [ ] é‡å¤ç”³è¯·å·²å­˜åœ¨çš„å¥½å‹
   - [ ] ç½‘ç»œå¼‚å¸¸æƒ…å†µå¤„ç†

### ç¾¤ç»„åŠŸèƒ½æµ‹è¯•ç”¨ä¾‹

1. **ç¾¤ç»„åˆ›å»ºå’Œç®¡ç†æµ‹è¯•**
   - [ ] ç”¨æˆ·åˆ›å»ºæ–°ç¾¤ç»„
   - [ ] éªŒè¯ç¾¤ä¸»ä¿¡æ¯æ˜¾ç¤ºæ­£ç¡®
   - [ ] æµ‹è¯•ç¾¤ç»„ä¿¡æ¯ä¿®æ”¹
   - [ ] æµ‹è¯•ç¾¤ç»„è½¬è®©åŠŸèƒ½

2. **ç¾¤ç»„åŠ å…¥å’Œæƒé™æµ‹è¯•**
   - [ ] ç”¨æˆ·ç”³è¯·åŠ å…¥ç¾¤ç»„
   - [ ] ç¾¤ä¸»æ‰¹å‡†/æ‹’ç»ç”³è¯·
   - [ ] éªŒè¯æˆå‘˜è§’è‰²æƒé™ï¼ˆowner, admin, memberï¼‰
   - [ ] æµ‹è¯•ç¾¤ç»„åˆ—è¡¨æ˜¾ç¤ºï¼ˆåˆ›å»ºçš„ vs åŠ å…¥çš„ï¼‰

3. **ç¾¤ç»„åŠŸèƒ½å®Œæ•´æ€§æµ‹è¯•**
   - [ ] ç¾¤ç»„æ¶ˆæ¯å‘é€ï¼ˆå¦‚å·²å®ç°ï¼‰
   - [ ] æˆå‘˜ç®¡ç†å’Œè¸¢å‡º
   - [ ] ç¾¤ç»„è®¾ç½®ä¿®æ”¹æƒé™
   - [ ] ç¾¤ç»„è§£æ•£åŠŸèƒ½

### å‰ç«¯ç•Œé¢æµ‹è¯•

1. **ContactPage.vueæµ‹è¯•**
   - [ ] é¡µé¢åŠ è½½æ­£å¸¸
   - [ ] å¥½å‹åˆ—è¡¨æ¸²æŸ“æ­£ç¡®
   - [ ] ç”³è¯·åˆ—è¡¨æ¸²æŸ“æ­£ç¡®
   - [ ] äº¤äº’æ“ä½œå“åº”æ­£å¸¸
   - [ ] ç§»åŠ¨ç«¯é€‚é…æµ‹è¯•

2. **GroupPage.vueæµ‹è¯•**
   - [ ] ç¾¤ç»„åˆ—è¡¨æ˜¾ç¤ºæ­£ç¡®
   - [ ] åˆ›å»ºç¾¤ç»„åŠŸèƒ½æ­£å¸¸
   - [ ] ç¾¤ç»„è¯¦æƒ…é¡µé¢æ•°æ®å®Œæ•´
   - [ ] æˆå‘˜åˆ—è¡¨æ˜¾ç¤ºæ­£ç¡®

### æ€§èƒ½æµ‹è¯•

1. **APIæ€§èƒ½æµ‹è¯•**
   - [ ] å¥½å‹åˆ—è¡¨åŠ è½½æ—¶é—´ < 500ms
   - [ ] ç¾¤ç»„åˆ—è¡¨åŠ è½½æ—¶é—´ < 800ms
   - [ ] å¹¶å‘ç”¨æˆ·è®¿é—®æµ‹è¯•
   - [ ] å¤§æ•°æ®é‡æµ‹è¯•ï¼ˆ1000+å¥½å‹/ç¾¤ç»„ï¼‰

2. **å‰ç«¯æ€§èƒ½æµ‹è¯•**
   - [ ] é¡µé¢é¦–æ¬¡åŠ è½½æ—¶é—´
   - [ ] åˆ—è¡¨æ»šåŠ¨æ€§èƒ½
   - [ ] å†…å­˜ä½¿ç”¨æƒ…å†µ

## æ–‡æ¡£æ›´æ–°
1. æ›´æ–°backend.md - æ·»åŠ ContactRequestDtoå’ŒGroupDtoè¯´æ˜
2. æ›´æ–°README.md - æ›´æ–°å¥½å‹å’Œç¾¤ç»„åŠŸèƒ½è¯´æ˜
3. æ›´æ–°APIæ–‡æ¡£ - æ·»åŠ æ–°å¢çš„APIç«¯ç‚¹

## ç´§æ€¥é—®é¢˜ä¿®å¤

### é—®é¢˜1: å‰ç«¯è·å–å¥½å‹åˆ—è¡¨å¤±è´¥ ğŸš¨
**ä¼˜å…ˆçº§**: **ç´§æ€¥** - é˜»å¡æ ¸å¿ƒåŠŸèƒ½
**é£é™©ç­‰çº§**: **é«˜** - å½±å“æ‰€æœ‰ç”¨æˆ·å¥½å‹åŠŸèƒ½
**ç›®æ ‡å®Œæˆ**: 2024-01-30 (æ˜å¤©)
**å½±å“èŒƒå›´**: å¥½å‹åˆ—è¡¨æ— æ³•æ˜¾ç¤ºï¼Œç”¨æˆ·æ— æ³•æŸ¥çœ‹å·²æ·»åŠ çš„å¥½å‹

**ä¾èµ–å…³ç³»**:
- ä¾èµ–æ•°æ®åº“è¡¨ç»“æ„ç¡®è®¤
- å¿…é¡»åœ¨ç¾¤ç»„åŠŸèƒ½DTOé‡æ„å‰å®Œæˆ

**æ–‡ä»¶**: Vue/src/contact/ContactPage.vue
**é—®é¢˜æè¿°**:
- å‰ç«¯è°ƒç”¨ `GET /api/contacts?status=ACCEPTED` è·å–å¥½å‹åˆ—è¡¨
- åç«¯è¿”å› `List<UserDto>`ï¼Œä½†UserDtoå­—æ®µä¸å‰ç«¯æœŸæœ›ä¸åŒ¹é…
- UserDtoåªæœ‰id, name, avatarç­‰åŸºç¡€å­—æ®µ
- å‰ç«¯æœŸæœ›æœ‰username, nicknameç­‰å­—æ®µ

**æ ¹æœ¬åŸå› **:
1. UserDtoè®¾è®¡ä¸å®Œæ•´ï¼Œç¼ºå°‘username, nickname, bioç­‰å­—æ®µ
2. ContactMapper.xmlä¸­çš„selectContactsByUserAndStatusæŸ¥è¯¢è¿”å›å­—æ®µä¸å®Œæ•´
3. å‰ç«¯ç›´æ¥ä½¿ç”¨axiosInstanceè€Œä¸æ˜¯ç»Ÿä¸€çš„APIæ¨¡å—ï¼ˆè¿åè§„èŒƒï¼‰

**è§£å†³æ–¹æ¡ˆ**:
1. **åˆ›å»ºContactDto** (æ¨è)
   - æ–‡ä»¶: src/main/java/com/web/dto/ContactDto.java
   - åŒ…å«å­—æ®µ: id, username, nickname, avatar, bio, contactTime
   - ç”¨äºè¿”å›å¥½å‹åˆ—è¡¨ä¿¡æ¯
   
2. **æ›´æ–°ContactMapper.xml**
   - æ–‡ä»¶: src/main/resources/mapper/ContactMapper.xml
   - ä¿®æ”¹selectContactsByUserAndStatusæŸ¥è¯¢
   - è¿”å›ç±»å‹æ”¹ä¸ºContactDto
   - SELECTè¯­å¥åŒ…å«: u.id, u.username, u.nickname, u.avatar, u.bio, c.create_time as contactTime

3. **æ›´æ–°ContactServiceæ¥å£**
   - æ–‡ä»¶: src/main/java/com/web/service/ContactService.java
   - ä¿®æ”¹getContactsæ–¹æ³•ç­¾å: `List<ContactDto> getContacts(Long userId, ContactStatus status);`
   - æˆ–æ·»åŠ æ–°æ–¹æ³•: `List<ContactDto> getContactsWithDetails(Long userId, ContactStatus status);`

4. **æ›´æ–°ContactServiceImpl**
   - æ–‡ä»¶: src/main/java/com/web/service/Impl/ContactServiceImpl.java
   - å®ç°æ–°çš„æ–¹æ³•ï¼Œè°ƒç”¨mapperè¿”å›ContactDto

5. **æ›´æ–°ContactController**
   - æ–‡ä»¶: src/main/java/com/web/Controller/ContactController.java
   - ä¿®æ”¹getContactsæ–¹æ³•è¿”å›ç±»å‹: `ResponseEntity<ApiResponse<List<ContactDto>>>`

6. **åˆ›å»ºå‰ç«¯APIæ¨¡å—** (éµå¾ªè§„èŒƒ)
   - æ–‡ä»¶: Vue/src/api/modules/contact.js
   - å°è£…æ‰€æœ‰è”ç³»äººç›¸å…³çš„APIè°ƒç”¨
   - åŒ…å«: getContacts, getFriendRequests, sendRequest, acceptRequest, rejectRequestç­‰

7. **æ›´æ–°å‰ç«¯ContactPage**
   - æ–‡ä»¶: Vue/src/contact/ContactPage.vue
   - ä½¿ç”¨contact.jsæ¨¡å—è€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨axiosInstance
   - éµå¾ªå‰ç«¯å¼€å‘è§„èŒƒç¬¬3æ¡

**å®ç°ä¼˜å…ˆçº§**: **ç´§æ€¥**ï¼ˆå½±å“æ ¸å¿ƒåŠŸèƒ½ï¼‰
**é¢„è®¡å·¥ä½œé‡**: 2-3å°æ—¶
**è´Ÿè´£äºº**: åç«¯å¼€å‘

**æµ‹è¯•è®¡åˆ’**:
- [ ] ç”¨æˆ·Aç™»å½•æŸ¥çœ‹å¥½å‹åˆ—è¡¨
- [ ] éªŒè¯å¥½å‹ä¿¡æ¯åŒ…å«username, nicknameç­‰å­—æ®µ
- [ ] æµ‹è¯•å¥½å‹æœç´¢åŠŸèƒ½
- [ ] éªŒè¯å¥½å‹ç”³è¯·æµç¨‹å®Œæ•´

**å›æ»šæ–¹æ¡ˆ**:
- ä¿ç•™åŸæœ‰APIç«¯ç‚¹ /api/contacts-legacy
- æ•°æ®åº“å®Œæ•´å¤‡ä»½
- å¦‚æœ‰é—®é¢˜å¯å¿«é€Ÿåˆ‡æ¢åˆ°æ—§ç‰ˆæœ¬

---

### é—®é¢˜2: å‰ç«¯è·å–ç¾¤ç»„åˆ—è¡¨å­—æ®µä¸åŒ¹é… ğŸš¨
**ä¼˜å…ˆçº§**: **é«˜** - å½±å“ç¾¤ç»„åŠŸèƒ½
**é£é™©ç­‰çº§**: **ä¸­** - éƒ¨åˆ†ç¾¤ç»„åŠŸèƒ½æ— æ³•ä½¿ç”¨
**ç›®æ ‡å®Œæˆ**: 2024-01-31 (åå¤©)
**å½±å“èŒƒå›´**: ç¾¤ç»„åˆ—è¡¨æ˜¾ç¤ºå¼‚å¸¸ï¼Œç”¨æˆ·æ— æ³•æŸ¥çœ‹ç¾¤ç»„è¯¦æƒ…

**ä¾èµ–å…³ç³»**:
- ä¾èµ–ContactDtoé—®é¢˜è§£å†³
- å¯ä»¥ä¸å¥½å‹åŠŸèƒ½å¹¶è¡Œå¼€å‘

**æ–‡ä»¶**: Vue/src/group/GroupPage.vue
**é—®é¢˜æè¿°**:
- å‰ç«¯è°ƒç”¨ `GET /api/groups/my-groups` å’Œ `GET /api/groups/my-created`
- åç«¯è¿”å› `List<Group>`ï¼Œå­—æ®µåä¸å‰ç«¯æœŸæœ›ä¸åŒ¹é…
- åç«¯: createTime, ownerId
- å‰ç«¯æœŸæœ›: createdAt, ownerUsername, role

**æ ¹æœ¬åŸå› **:
1. Groupæ¨¡å‹ç›´æ¥è¿”å›ç»™å‰ç«¯ï¼Œè¿åDTOè®¾è®¡åŸåˆ™
2. ç¼ºå°‘ownerUsernameå­—æ®µï¼ˆéœ€è¦JOIN userè¡¨ï¼‰
3. ç¼ºå°‘roleå­—æ®µï¼ˆéœ€è¦JOIN group_memberè¡¨ï¼‰
4. å­—æ®µå‘½åä¸ä¸€è‡´ï¼ˆcreateTime vs createdAtï¼‰

**è§£å†³æ–¹æ¡ˆ**:
1. **å®Œå–„GroupDto** (å·²åˆ›å»ºåŸºç¡€ç»“æ„)
   - æ–‡ä»¶: src/main/java/com/web/dto/GroupDto.java
   - ç¡®ä¿åŒ…å«æ‰€æœ‰å‰ç«¯éœ€è¦çš„å­—æ®µ
   - å­—æ®µå‘½åä¸å‰ç«¯ä¿æŒä¸€è‡´ï¼ˆä½¿ç”¨createdAtè€Œä¸æ˜¯createTimeï¼‰

2. **åˆ›å»ºGroupMapper.xml**
   - æ–‡ä»¶: src/main/resources/mapper/GroupMapper.xml (éœ€è¦åˆ›å»º)
   - æ·»åŠ æŸ¥è¯¢: selectUserGroupsWithDetails
     ```xml
     SELECT 
         g.id, g.group_name as groupName, g.group_description as groupDescription,
         g.owner_id as ownerId, u.username as ownerUsername,
         g.group_avatar_url as groupAvatarUrl, g.status, g.max_members as maxMembers,
         g.member_count as memberCount, gm.role, g.create_time as createdAt,
         g.last_transfer_at as lastTransferAt, g.transfer_count as transferCount
     FROM `group` g
     LEFT JOIN user u ON g.owner_id = u.id
     LEFT JOIN group_member gm ON g.id = gm.group_id AND gm.user_id = #{userId}
     WHERE gm.user_id = #{userId}
     ORDER BY g.create_time DESC
     ```
   - æ·»åŠ æŸ¥è¯¢: selectUserCreatedGroupsWithDetails
     ```xml
     SELECT 
         g.id, g.group_name as groupName, g.group_description as groupDescription,
         g.owner_id as ownerId, u.username as ownerUsername,
         g.group_avatar_url as groupAvatarUrl, g.status, g.max_members as maxMembers,
         g.member_count as memberCount, 1 as role, g.create_time as createdAt,
         g.last_transfer_at as lastTransferAt, g.transfer_count as transferCount
     FROM `group` g
     LEFT JOIN user u ON g.owner_id = u.id
     WHERE g.owner_id = #{userId}
     ORDER BY g.create_time DESC
     ```

3. **æ›´æ–°GroupMapperæ¥å£**
   - æ–‡ä»¶: src/main/java/com/web/mapper/GroupMapper.java
   - æ·»åŠ æ–¹æ³•:
     ```java
     List<GroupDto> selectUserGroupsWithDetails(@Param("userId") Long userId);
     List<GroupDto> selectUserCreatedGroupsWithDetails(@Param("userId") Long userId);
     GroupDto selectGroupWithDetails(@Param("groupId") Long groupId, @Param("userId") Long userId);
     ```

4. **æ›´æ–°GroupServiceæ¥å£**
   - æ–‡ä»¶: src/main/java/com/web/service/GroupService.java
   - æ·»åŠ æ–¹æ³•:
     ```java
     List<GroupDto> getUserGroupsWithDetails(Long userId);
     List<GroupDto> getUserCreatedGroupsWithDetails(Long userId);
     GroupDto getGroupWithDetails(Long groupId, Long userId);
     ```
   - ä¿æŒåŸæœ‰æ–¹æ³•ä¸å˜ï¼ˆå‘åå…¼å®¹ï¼‰

5. **æ›´æ–°GroupServiceImpl**
   - æ–‡ä»¶: src/main/java/com/web/service/Impl/GroupServiceImpl.java
   - å®ç°æ–°æ–¹æ³•ï¼Œè°ƒç”¨mapperè¿”å›GroupDto
   - æ·»åŠ @Transactionalæ³¨è§£ï¼ˆå¦‚æœæ¶‰åŠå¤šè¡¨æ“ä½œï¼‰

6. **æ›´æ–°StandardGroupController**
   - æ–‡ä»¶: src/main/java/com/web/Controller/StandardGroupController.java
   - ä¿®æ”¹getMyGroupsæ–¹æ³•: è¿”å› `ResponseEntity<ApiResponse<List<GroupDto>>>`
   - ä¿®æ”¹getMyCreatedGroupsæ–¹æ³•: è¿”å› `ResponseEntity<ApiResponse<List<GroupDto>>>`
   - ä¿®æ”¹getGroupæ–¹æ³•: è¿”å› `ResponseEntity<ApiResponse<GroupDto>>`

7. **å‰ç«¯é€‚é…ï¼ˆå¯é€‰ï¼‰**
   - æ–‡ä»¶: Vue/src/group/GroupPage.vue
   - å¦‚æœåç«¯ç»Ÿä¸€ä½¿ç”¨createdAtï¼Œå‰ç«¯æ— éœ€ä¿®æ”¹
   - å¦‚æœä¿æŒcreateTimeï¼Œå‰ç«¯éœ€è¦æ˜ å°„: `createdAt: group.createTime`

**å®ç°ä¼˜å…ˆçº§**: **é«˜**ï¼ˆå½±å“æ ¸å¿ƒåŠŸèƒ½ï¼‰
**é¢„è®¡å·¥ä½œé‡**: 3-4å°æ—¶
**è´Ÿè´£äºº**: åç«¯å¼€å‘

**æµ‹è¯•è®¡åˆ’**:
- [ ] ç”¨æˆ·åˆ›å»ºç¾¤ç»„å¹¶éªŒè¯ownerUsernameæ˜¾ç¤º
- [ ] ç”¨æˆ·åŠ å…¥ç¾¤ç»„å¹¶éªŒè¯roleå­—æ®µæ­£ç¡®
- [ ] æµ‹è¯•ç¾¤ç»„åˆ—è¡¨æ’åºå’Œåˆ†é¡µ
- [ ] éªŒè¯ç¾¤ç»„è¯¦æƒ…é¡µé¢æ•°æ®å®Œæ•´æ€§

**å›æ»šæ–¹æ¡ˆ**:
- ä¿ç•™åŸæœ‰Groupæ¨¡å‹APIç«¯ç‚¹
- æ–°å¢DTOç‰ˆæœ¬APIï¼Œé€æ­¥è¿ç§»
- æ•°æ®åº“å¤‡ä»½å’Œå›æ»šè„šæœ¬å‡†å¤‡

---

### é—®é¢˜3: å‰ç«¯APIè°ƒç”¨ä¸è§„èŒƒ âš ï¸
**ä¼˜å…ˆçº§**: **ä¸­** - ä»£ç è´¨é‡é—®é¢˜
**é£é™©ç­‰çº§**: **ä½** - ä¸å½±å“åŠŸèƒ½ï¼Œå½±å“ç»´æŠ¤æ€§
**ç›®æ ‡å®Œæˆ**: 2024-02-02 (æœ¬å‘¨äº”)
**å½±å“èŒƒå›´**: ä»£ç å¯ç»´æŠ¤æ€§å·®ï¼Œæ–°åŠŸèƒ½å¼€å‘æ•ˆç‡ä½

**ä¾èµ–å…³ç³»**:
- ä¾èµ–é—®é¢˜1å’Œé—®é¢˜2è§£å†³
- å¯ç‹¬ç«‹è¿›è¡Œï¼Œä¸é˜»å¡å…¶ä»–åŠŸèƒ½

**é—®é¢˜æè¿°**:
- å‰ç«¯ç»„ä»¶ç›´æ¥ä½¿ç”¨axiosInstanceè°ƒç”¨API
- è¿åå‰ç«¯å¼€å‘è§„èŒƒç¬¬3æ¡: "æ–°çš„APIè¯·æ±‚åº”æ ¹æ®ä¸šåŠ¡é¢†åŸŸæ·»åŠ åˆ°src/api/modules/ç›®å½•ä¸‹çš„å¯¹åº”æ¨¡å—ä¸­"
- ç¼ºå°‘ç»Ÿä¸€çš„APIå°è£…ï¼Œä»£ç é‡å¤

**å½±å“èŒƒå›´**:
- Vue/src/contact/ContactPage.vue - ç›´æ¥ä½¿ç”¨axiosInstance
- Vue/src/group/GroupPage.vue - ä½¿ç”¨groupApiä½†å¯èƒ½ä¸å®Œæ•´

**è§£å†³æ–¹æ¡ˆ**:
1. **åˆ›å»ºcontact.js APIæ¨¡å—**
   - æ–‡ä»¶: Vue/src/api/modules/contact.js (éœ€è¦åˆ›å»º)
   - å°è£…æ‰€æœ‰è”ç³»äººç›¸å…³API:
     ```javascript
     export default {
       // è·å–å¥½å‹åˆ—è¡¨
       getContacts(status = 'ACCEPTED') {
         return axiosInstance.get('/api/contacts', { params: { status } });
       },
       
       // è·å–å¥½å‹ç”³è¯·åˆ—è¡¨
       getFriendRequests() {
         return axiosInstance.get('/api/contacts/requests');
       },
       
       // å‘é€å¥½å‹ç”³è¯·ï¼ˆé€šè¿‡ç”¨æˆ·åï¼‰
       sendRequestByUsername(username, message) {
         return axiosInstance.post('/api/contacts/request/by-username', { username, message });
       },
       
       // æ¥å—å¥½å‹ç”³è¯·
       acceptRequest(requestId) {
         return axiosInstance.post(`/api/contacts/request/${requestId}/accept`);
       },
       
       // æ‹’ç»å¥½å‹ç”³è¯·
       rejectRequest(requestId) {
         return axiosInstance.post(`/api/contacts/request/${requestId}/reject`);
       },
       
       // åˆ é™¤è”ç³»äºº
       deleteContact(contactId) {
         return axiosInstance.delete(`/api/contacts/${contactId}`);
       },
       
       // åˆ†ç»„ç®¡ç†
       getGroups() {
         return axiosInstance.get('/api/contacts/groups');
       },
       
       createGroup(groupName, groupOrder) {
         return axiosInstance.post('/api/contacts/groups', { groupName, groupOrder });
       },
       
       updateGroupName(groupId, groupName) {
         return axiosInstance.put(`/api/contacts/groups/${groupId}/name`, { groupName });
       },
       
       deleteGroup(groupId) {
         return axiosInstance.delete(`/api/contacts/groups/${groupId}`);
       },
       
       addContactToGroup(groupId, contactId) {
         return axiosInstance.post(`/api/contacts/groups/${groupId}/contacts/${contactId}`);
       },
       
       getContactsByGroup(groupId) {
         return axiosInstance.get(`/api/contacts/groups/${groupId}/contacts`);
       }
     };
     ```

2. **æ›´æ–°ContactPage.vue**
   - æ–‡ä»¶: Vue/src/contact/ContactPage.vue
   - å¯¼å…¥contact APIæ¨¡å—: `import contactApi from '@/api/modules/contact';`
   - æ›¿æ¢æ‰€æœ‰axiosInstanceè°ƒç”¨ä¸ºcontactApiæ–¹æ³•
   - ç¤ºä¾‹:
     ```javascript
     // ä¿®æ”¹å‰
     const response = await axiosInstance.get('/api/contacts', { params: { status: 'ACCEPTED' } });
     
     // ä¿®æ”¹å
     const response = await contactApi.getContacts('ACCEPTED');
     ```

3. **éªŒè¯group.js APIæ¨¡å—**
   - æ–‡ä»¶: Vue/src/api/modules/group.js
   - ç¡®ä¿æ‰€æœ‰æ–¹æ³•éƒ½å·²å®ç°
   - ç¡®ä¿è¿”å›æ•°æ®æ ¼å¼ä¸åç«¯ä¸€è‡´

**å®ç°ä¼˜å…ˆçº§**: ä¸­ï¼ˆä»£ç è§„èŒƒé—®é¢˜ï¼‰
**é¢„è®¡å·¥ä½œé‡**: 1-2å°æ—¶

---

### é—®é¢˜4: UserDtoè®¾è®¡ä¸å®Œæ•´
**æ–‡ä»¶**: src/main/java/com/web/dto/UserDto.java
**é—®é¢˜æè¿°**:
- UserDtoåªæœ‰id, name, avatar, type, badge, ipOwnershipå­—æ®µ
- ç¼ºå°‘username, nickname, bioç­‰å¸¸ç”¨å­—æ®µ
- å¤šä¸ªåœºæ™¯éœ€è¦ä¸åŒçš„ç”¨æˆ·ä¿¡æ¯ï¼Œä½†éƒ½ä½¿ç”¨åŒä¸€ä¸ªUserDto

**è§£å†³æ–¹æ¡ˆ**:
1. **æ‰©å±•UserDto** (å¿«é€Ÿæ–¹æ¡ˆ)
   - æ·»åŠ å­—æ®µ: username, nickname, email, bio, onlineStatus
   - ä¿æŒå‘åå…¼å®¹ï¼Œæ–°å­—æ®µå¯ä¸ºnull

2. **åˆ›å»ºä¸“ç”¨DTO** (æ¨èæ–¹æ¡ˆ)
   - ContactDto: ç”¨äºå¥½å‹åˆ—è¡¨
   - GroupMemberDto: ç”¨äºç¾¤ç»„æˆå‘˜
   - UserProfileDto: ç”¨äºç”¨æˆ·è¯¦æƒ…
   - UserSearchDto: ç”¨äºæœç´¢ç»“æœ
   - éµå¾ªå•ä¸€èŒè´£åŸåˆ™

**å®ç°ä¼˜å…ˆçº§**: ä¸­ï¼ˆæ¶æ„ä¼˜åŒ–ï¼‰
**é¢„è®¡å·¥ä½œé‡**: 2-3å°æ—¶

---

## é£é™©ç®¡æ§å’Œå›æ»šç­–ç•¥

### æ•°æ®åº“å˜æ›´é£é™©æ§åˆ¶
1. **å¤‡ä»½ç­–ç•¥**
   - æ¯æ¬¡æ•°æ®åº“ç»“æ„å˜æ›´å‰å®Œæ•´å¤‡ä»½
   - ä¿ç•™æœ€è¿‘7å¤©çš„æ•°æ®åº“å¤‡ä»½
   - æµ‹è¯•ç¯å¢ƒå…ˆè¡ŒéªŒè¯

2. **å›æ»šè®¡åˆ’**
   - æ•°æ®åº“å›æ»šè„šæœ¬å‡†å¤‡
   - APIç‰ˆæœ¬å…¼å®¹æ€§å¤„ç†
   - å‰ç«¯å¿«é€Ÿå›æ»šæœºåˆ¶

### éƒ¨ç½²ç­–ç•¥
1. **åˆ†é˜¶æ®µéƒ¨ç½²**
   - åç«¯APIå…ˆè¡Œéƒ¨ç½²æµ‹è¯•
   - æ•°æ®åº“å˜æ›´åœ¨ä½å³°æœŸè¿›è¡Œ
   - å‰ç«¯æ›´æ–°åç«¯éªŒè¯é€šè¿‡

2. **ç›‘æ§å’Œå‘Šè­¦**
   - APIå“åº”æ—¶é—´ç›‘æ§
   - é”™è¯¯ç‡å‘Šè­¦è®¾ç½®
   - ç”¨æˆ·ä½“éªŒæŒ‡æ ‡è·Ÿè¸ª

### åº”æ€¥å“åº”
1. **é—®é¢˜åˆ†ç±»**
   - P0: æ ¸å¿ƒåŠŸèƒ½ä¸å¯ç”¨ - 30åˆ†é’Ÿå†…å“åº”
   - P1: é‡è¦åŠŸèƒ½å¼‚å¸¸ - 2å°æ—¶å†…å“åº”
   - P2: æ¬¡è¦é—®é¢˜ - 24å°æ—¶å†…å“åº”

2. **åº”æ€¥è”ç³»äºº**
   - åç«¯è´Ÿè´£äºº: [å¾…å¡«å†™]
   - å‰ç«¯è´Ÿè´£äºº: [å¾…å¡«å†™]
   - è¿ç»´è´Ÿè´£äºº: [å¾…å¡«å†™]

## æ³¨æ„äº‹é¡¹
1. æ‰€æœ‰æ•°æ®åº“æ“ä½œå¿…é¡»åœ¨ServiceImplä¸­ä½¿ç”¨@Transactional
2. æ‰€æœ‰DTOå¿…é¡»åŒ…å«å‰ç«¯éœ€è¦çš„å®Œæ•´å­—æ®µ
3. å­—æ®µå‘½åå¿…é¡»ä¿æŒä¸€è‡´æ€§ï¼ˆcreateTime vs createdAtéœ€è¦ç»Ÿä¸€ï¼‰
4. æ‰€æœ‰é€šçŸ¥å‘é€å¤±è´¥ä¸åº”å½±å“ä¸»ä¸šåŠ¡æµç¨‹
5. éµå¾ªrule.txtä¸­çš„æ‰€æœ‰è§„èŒƒ
6. Serviceæ¥å£ä¸å®ç°å¿…é¡»ä¿æŒä¸¥æ ¼ä¸€è‡´ï¼Œä¿®æ”¹ç­¾åå¿…é¡»åŒæ­¥
7. å‰ç«¯å¿…é¡»ä½¿ç”¨APIæ¨¡å—å°è£…ï¼Œç¦æ­¢ç›´æ¥ä½¿ç”¨axiosInstance
8. æ–°å¢DTOå¿…é¡»åœ¨backend.mdä¸­è®°å½•
9. APIå˜æ›´å¿…é¡»åŒæ­¥æ›´æ–°å‰ç«¯APIæ¨¡å—
10. **é‡è¦**: æ‰€æœ‰é«˜ä¼˜å…ˆçº§ä¿®å¤å¿…é¡»ç»è¿‡å®Œæ•´æµ‹è¯•åå†ä¸Šçº¿

## ç‰ˆæœ¬å‘å¸ƒè®¡åˆ’
- **v0.2.0** (ç›®æ ‡: 2024-01-31) - ä¿®å¤å¥½å‹å’Œç¾¤ç»„åˆ—è¡¨æ˜¾ç¤ºé—®é¢˜
- **v0.2.1** (ç›®æ ‡: 2024-02-02) - å®Œå–„APIè§„èŒƒå’Œä»£ç è´¨é‡
- **v0.3.0** (ç›®æ ‡: 2024-02-05) - å®Œæˆé€šçŸ¥ç³»ç»ŸåŠŸèƒ½
